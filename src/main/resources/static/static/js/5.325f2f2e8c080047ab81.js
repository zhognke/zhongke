webpackJsonp([5],{qUIV:function(t,e){},sXCP:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={name:"Thome",data:function(){return{restaurants:[],state1:"",state2:"",val:"",leaveMessage:[],currentPage1:1,option:[{value:"全部",lable:"全部"},{value:"工业转型升级技术改造项目",lable:"工业转型升级技术改造项目"},{value:"技术创新项目",lable:"技术创新项目"},{value:"绿色制造项目",lable:"绿色制造项目"},{value:"民营经济提升项目",lable:"民营经济提升项目"},{value:"装备工业项目",lable:"装备工业项目"},{value:"电子信息项目",lable:"电子信息项目"},{value:"集成电路项目",lable:"集成电路项目"},{value:"智能语音及人工智能项目",lable:"智能语音及人工智能项目"},{value:"制造业与互联网融合项目",lable:"制造业与互联网融合项目"},{value:"非煤矿山建设项目",lable:"非煤矿山建设项目"},{value:"传统工艺美术保护发展项目",lable:"传统工艺美术保护发展项目"}],input:"",patent:"",value:"全部",value1:"",value2:"",value3:"",cooperationType:"",ifDetails:!1,technology:"",companyName:"",demandType:"",cooperation:[{value:"技术转让",label:"技术转让"},{value:"专利许可",label:"专利许可"},{value:"委托开发",label:"委托开发"},{value:"合作开发",label:"合作开发"},{value:"技术服务",label:"技术服务"},{value:"技术入股",label:"技术入股"},{value:"其他",label:"其他"}],status:[{value:"2018年",label:"2018年"},{value:"2019年",label:"2019年"},{value:"2020年",label:"2020年"},{value:"全部",label:"全部"}],Message:{1:!1,2:!1,3:!1,4:!1,5:!1,6:!1,7:!1,8:!1,9:!1,10:!1},TecInfo:"",totalPages:1,CompanyList:"",flag:!1}},components:{},created:function(){this.getTecInfo(),this.getCompanyList()},mounted:function(){},computed:{baseUrl:function(){return this.$store.state.url}},methods:{querySearch:function(t,e){var a=this.restaurants;e(t?a.filter(this.createFilter(t)):a)},createFilter:function(t){return function(e){return 0===e.value.toLowerCase().indexOf(t.toLowerCase())}},handleSelect:function(t){console.log(t)},getCompanyList:function(){var t=this;t.$axios.get("/industrialdeclaration/getCompanyList").then(function(e){if(0==e.data.code){var a=[];e.data.data.forEach(function(t,e){a.push({value:t.companyName})}),t.restaurants=a}})},formateDate:function(t){function e(t){return t<10?"0"+t:t}var a=new Date(t);return a.getFullYear()+"-"+e(a.getMonth()+1)+"-"+e(a.getDate())+" "+e(a.getHours())+":"+e(a.getMinutes())+":"+e(a.getSeconds())},summitEvaluation:function(t,e){var a=this,n=this,s=e,l=n.input;n.$axios.post("/demandsComment/addDemandsComment",n.$qs.stringify({demandsId:s,username:"admin",commentContent:l})).then(function(s){0==s.data.code&&n.$axios.get("/demandsComment/showCommentByPage",{params:{demandsID:e,pageNum:1,pagesize:10}}).then(function(e){0==e.data.code&&(e.data.data.list.forEach(function(t,a){e.data.data.list[a].createTime=n.formateDate(t.createTime),0==e.data.data.list[a].status&&(e.data.data.list[a].statusText="未审核"),1==e.data.data.list[a].status&&(e.data.data.list[a].statusText="已审核"),2==e.data.data.list[a].status&&(e.data.data.list[a].statusText="已驳回")}),n.leaveMessage[t]=e.data.data.list,a.$forceUpdate())})})},handleSizeChange:function(t){},handleCurrentChange:function(t){var e=t;1==this.flag?this.search(t):this.getTecInfo(e),this.Message={1:!1,2:!1,3:!1,4:!1,5:!1,6:!1,7:!1,8:!1,9:!1,10:!1}},search:function(t){var e=this,a=this,n=this.value,s=this.cooperationType;"全部"==n&&(n="");var l=this.demandType;l="全部"==l?"":l.substring(0,4);var i=t;console.log(i),a.$axios.get("/industrialdeclaration/showByPage",{params:{declarationYear:l,companyName:s,declarationType:n,pageSize:10,pageNum:i}}).then(function(t){0==t.data.code&&(a.flag||e.$message({message:"检索成功!",type:"success"}),a.totalPages=t.data.data.total,t.data.data.total>10&&(a.flag=!0),t.data.data.list.forEach(function(e,n){t.data.data.list[n].endDateT=a.formateDate(e.endDate),0==t.data.data.list[n].status&&(t.data.data.list[n].statusText="未审核"),1==t.data.data.list[n].status&&(t.data.data.list[n].statusText="已审核"),2==t.data.data.list[n].status&&(t.data.data.list[n].statusText="已驳回")}),a.TecInfo=t.data.data.list)})},toPages:function(){},getSize:function(t){},getTecInfo:function(t){var e=this;t=t||1;e.$axios.get("/industrialdeclaration/showByPage",{params:{pageSize:"10",pageNum:t}}).then(function(t){0==t.data.code&&(e.totalPages=t.data.data.total,t.data.data.list.forEach(function(a,n){t.data.data.list[n].createTime=e.formateDate(a.createTime),0==t.data.data.list[n].status&&(t.data.data.list[n].statusText="未审核"),1==t.data.data.list[n].status&&(t.data.data.list[n].statusText="已审核"),2==t.data.data.list[n].status&&(t.data.data.list[n].statusText="已驳回")}),e.TecInfo=t.data.data.list)})},handleChange1:function(){},closeDetails:function(){this.ifDetails=!1},toDetail:function(t){this.$store.state.id=t,this.ifDetails=!0}},directives:{drag:{bind:function(t,e){if(t.style.zIndex=9,e.value||void 0===e.value){var a=void 0,n=void 0,s=void 0,l=void 0,i=void 0,o=void 0,u=void 0,d=void 0;t.onmousemove=function(e){var a=e.clientX,n=e.clientY,s=t.getBoundingClientRect(),l=s.top,i=s.left,o=s.width,u=l+s.height,d=i+o,r=n<=u+5&&n>=u-5,c=a<=d+5&&a>=d-5;t.style.cursor=r&&c?"se-resize":c?"e-resize":r?"s-resize":"move"},t.onmousedown=function(e){var r=t.style.cursor;t.style.zIndex=99;var c=window.getComputedStyle(t),v=c.left,h=c.top,f=c.width,m=c.height;a=v,n=h,s=f,l=m,i=e.clientX,o=e.clientY,document.onmousemove=function(e){u=e.clientX,d=e.clientY;var c=u-i,v=d-o,h=["width","height"],f=[s,l],m=[c,v],p=50;switch(r){case"e-resize":h=["width"],f=[s],m=[c];break;case"s-resize":h=["height"],f=[l],m=[v];break;case"move":h=["left","top"],f=[a,n],p=0}!function(e,a,n,s){for(var l=0;l<e.length;l++){var i=parseInt(a[l])+n[l];i=i<=s?s:i,t.style[e[l]]=i+"px"}}(h,f,m,p)},document.onmouseup=function(e){t.style.zIndex=9,document.onmousemove=null}}}else t.style.cursor="default",t.onmousedown=null,t.onmousemove=null}}}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"needHome"},[a("div",{staticClass:"select"},[a("span",[t._v("筛选:")]),t._v(" "),a("span",{staticStyle:{display:"inline-block","padding-right":"10px"}},[t._v("申报类型")]),t._v(" "),a("el-select",{attrs:{placeholder:"",size:"small"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.option,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value},on:{change:t.handleChange1}})}),1),t._v(" "),a("span",{staticStyle:{display:"inline-block","padding-right":"10px","padding-left":"10px"}},[t._v("申报企业")]),t._v(" "),a("el-autocomplete",{staticClass:"inline-input",attrs:{"fetch-suggestions":t.querySearch,placeholder:"请输入企业名称","trigger-on-focus":!1},on:{select:t.handleSelect},model:{value:t.cooperationType,callback:function(e){t.cooperationType=e},expression:"cooperationType"}}),t._v(" "),a("span",[t._v("申报年份")]),t._v(" "),a("el-select",{attrs:{placeholder:"",size:"small"},model:{value:t.demandType,callback:function(e){t.demandType=e},expression:"demandType"}},t._l(t.status,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.search(1)}}},[t._v("查询")])],1),t._v(" "),a("div",{staticClass:"needWarp"},[a("div",[t._m(0),t._v(" "),t._l(t.TecInfo,function(e,n){return a("div",{key:n,staticClass:"needDetails"},[a("ul",[a("li",[t._v(t._s(e.declarationType))]),t._v(" "),a("li",[t._v(t._s(e.companyName))]),t._v(" "),a("li",[t._v(t._s(e.createTime.substring(0,10)))]),t._v(" "),a("li",[t._v(t._s(e.statusText))])])])})],2)]),t._v(" "),t.ifDetails?a("div",{directives:[{name:"drag",rawName:"v-drag"}],staticClass:"details"},[a("Details",{on:{fathermethod:t.closeDetails}})],1):t._e(),t._v(" "),a("div",{staticStyle:{width:"1104px",margin:"0 auto","text-align":"right","margin-top":"50px"}},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.totalPages,size:10,"current-page":t.currentPage1},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage1=e},"update:current-page":function(e){t.currentPage1=e}}})],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("申报类型")]),this._v(" "),e("li",[this._v("申报企业")]),this._v(" "),e("li",[this._v("申报时间")]),this._v(" "),e("li",[this._v("审核状态")])])}]};var l=a("VU/8")(n,s,!1,function(t){a("qUIV")},"data-v-e0b4fbc8",null);e.default=l.exports}});
//# sourceMappingURL=5.325f2f2e8c080047ab81.js.map