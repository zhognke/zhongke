webpackJsonp([29],{bN2N:function(e,s){},dIqY:function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i={name:"register",data:function(){return{userName:"",password:"",repassword:"",mail:"",verify:"",mailVerify:"",checked:!1,passwordSign:!0,verifyFlag:!1}},created:function(){},mounted:function(){this.toggleVerify()},methods:{regPassword:function(){var e=this.password;return e.length<8?(this.$message({message:"请输入8位以上密码",type:"warning"}),this.password="",!1):e.length>20?(this.$message({message:"请输入20位以上密码",type:"warning"}),this.password="",!1):void 0},regMain:function(){var e,s;if(e=/^\w+((-\w+)|(\.\w+))*\@{1}\w+\.{1}\w{2,4}(\.{0,1}\w{2}){0,1}/gi,s=this.mail.search(e),console.log(s),-1==s)return this.$message({message:"请输入合法的邮箱",type:"warning"}),!1},togglePassword:function(){var e=this.$refs.password;this.passwordSign?(e.type="text",this.passwordSign=!1):(e.type="password",this.passwordSign=!0),console.log(e)},toLogin:function(){this.$router.push("/login")},toggleVerify:function(){this.$refs.verify.src="http://192.168.30.27:8088/getCode?"+Math.random()},judUser:function(){var e=this.userName;return e.length<4?(this.$message({message:"请输入4位以上用户名",type:"warning"}),!1):e.length>20?(this.$message({message:"请输入20位以下用户名",type:"warning"}),!1):void 0},getMailVerify:function(){var e=this,s=this.mail;(new FormData).append("code",this.verify),this.$axios.get("/verificationCode?code="+e.verify).then(function(t){0==t.data.code?e.$axios.post("/user/sendCode",e.$qs.stringify({email:s})).then(function(s){0==s.data.code?(e.$message({message:"邮件已发发送!请检查邮箱",type:"success"}),e.verifyFlag=!0):e.$message({message:s.data.msg,type:"warning"}),console.log(s)}).catch(function(s){e.$message({message:"网络错误",type:"warning"})}):(e.$message({message:t.data.msg,type:"warning"}),e.verify=""),console.log(t)})},isEqual:function(){var e=this.password,s=this.repassword;return s.length<8?(this.$message({message:"请输入8位以上密码",type:"warning"}),this.repassword="",!1):s.length>20?(this.$message({message:"请输入20位以上密码",type:"warning"}),this.repassword="",!1):e!=s?(this.$message({message:"两次密码输入不一致",type:"warning"}),this.repassword="",!1):void 0},toRegister:function(){var e=this,s=this;return""==this.userName?(this.$message({message:"请输入用户名",type:"warning"}),!1):this.userName.length<4?(this.$message({message:"请输入4位以上用户名",type:"warning"}),!1):this.userName.length>20?(this.$message({message:"请输入20位以下用户名",type:"warning"}),!1):""==this.password?(this.$message({message:"请输入密码",type:"warning"}),!1):""==this.repassword?(this.$message({message:"请输入重复密码",type:"warning"}),!1):this.password!=this.repassword?(this.$message({message:"两次输入密码不相同",type:"warning"}),!1):""==this.mail?(this.$message({message:"请输入邮箱号",type:"warning"}),!1):""==this.verify?(this.$message({message:"请输入验证码",type:"warning"}),!1):""==this.mailVerify?(this.$message({message:"请输入邮箱验证码",type:"warning"}),!1):this.checked?void s.$axios.post("/user/checkCode",s.$qs.stringify({code:this.mailVerify})).then(function(t){console.log("邮箱号校验"),console.log(t),s.verifyFlag=!1,0==t.data.code?s.$axios.post("/user/registerUser",s.$qs.stringify({userName:s.userName,password:s.password,email:s.mail,status:s.mailVerify})).then(function(e){0==e.data.code?(s.$message({message:"账号已注册成功",type:"success"}),s.$router.push("/login")):(s.$message.error(e.data.msg),s.verify=""),console.log(e)}):e.$message({message:"邮箱验证码不正确",type:"warning"})}):(this.$message({message:"请同意用户协议",type:"warning"}),!1)}},computed:{}},a={render:function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("div",{staticClass:"login-header"},[t("div",{staticClass:"header-warp"},[t("span",{staticStyle:{cursor:"pointer"},on:{click:function(s){return e.$router.push("/")}}},[e._v(" 政企智慧服务平台")]),t("span",[e._v("注册")])])]),e._v(" "),t("div",{staticClass:"register-body",staticStyle:{position:"relative"}},[t("div",{staticClass:"loginForm"},[t("div",{staticClass:"fg-head"},[e._v("\n          注册\n        ")]),e._v(" "),e._m(0),e._v(" "),t("div",{staticClass:"loginR"},[t("ul",[t("li",[t("el-input",{staticStyle:{"padding-left":"5px",width:"128%"},attrs:{placeholder:"4-20位字符"},on:{change:e.judUser},model:{value:e.userName,callback:function(s){e.userName=s},expression:"userName"}})],1),e._v(" "),t("li",[t("el-input",{staticStyle:{"padding-left":"5px",width:"128%"},attrs:{placeholder:"8-20位字符,至少包含大写字母、小写字母、数字、特殊符号中的两种","show-password":""},on:{change:e.regPassword},model:{value:e.password,callback:function(s){e.password=s},expression:"password"}})],1),e._v(" "),t("li",[t("el-input",{staticStyle:{"padding-left":"5px",width:"128%"},attrs:{placeholder:"","show-password":""},on:{change:e.isEqual},model:{value:e.repassword,callback:function(s){e.repassword=s},expression:"repassword"}})],1),e._v(" "),t("li",[t("el-input",{staticStyle:{"padding-left":"5px",width:"128%"},on:{change:e.regMain},model:{value:e.mail,callback:function(s){e.mail=s},expression:"mail"}})],1),e._v(" "),t("li",{staticClass:"verify"},[t("el-input",{staticStyle:{"padding-left":"5px"},model:{value:e.verify,callback:function(s){e.verify=s},expression:"verify"}}),e._v(" "),t("img",{ref:"verify",attrs:{src:"",alt:""},on:{click:e.toggleVerify}}),e._v(" "),t("span",{staticStyle:{cursor:"pointer"},on:{click:e.toggleVerify}},[e._v("看不清楚？点击刷新")])],1),e._v(" "),t("li",{staticClass:"phoneVerify"},[t("el-input",{staticStyle:{"padding-left":"5px"},model:{value:e.mailVerify,callback:function(s){e.mailVerify=s},expression:"mailVerify"}}),e._v(" "),t("button",{class:{verify1:e.verifyFlag},attrs:{id:"verify",disabled:e.verifyFlag},on:{click:e.getMailVerify}},[e._v("获取验证码")])],1),e._v(" "),t("li",{staticClass:"treaty"},[t("el-checkbox",{model:{value:e.checked,callback:function(s){e.checked=s},expression:"checked"}},[e._v("我已阅读并同意《用户注册协议》")])],1),e._v(" "),t("li",{staticClass:"register"},[t("input",{attrs:{type:"button",value:"注册"},on:{click:e.toRegister}})])]),e._v(" "),t("div",{staticStyle:{"margin-top":"13px"}},[t("span",{staticStyle:{"font-size":"14px",color:"#AEAEAE"}},[e._v("已有账户？")]),e._v(" "),t("span",{staticStyle:{color:"#008FFF","font-size":"14px",display:"inline-block","margin-left":"19px",cursor:"pointer"},on:{click:function(s){return e.$router.push("/login")}}},[e._v("立即登录")])])])])]),e._v(" "),e._m(1)])},staticRenderFns:[function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"loginL"},[t("ul",[t("li",[t("span",{staticStyle:{color:"#E84343"}},[e._v("*")]),e._v(" 用户名  : ")]),e._v(" "),t("li",[t("span",{staticStyle:{color:"#E84343"}},[e._v("*")]),e._v(" 密码  : ")]),e._v(" "),t("li",[t("span",{staticStyle:{color:"#E84343"}},[e._v("*")]),e._v(" 确认密码  : ")]),e._v(" "),t("li",[t("span",{staticStyle:{color:"#E84343"}},[e._v("*")]),e._v(" 邮箱号  : ")]),e._v(" "),t("li",[t("span",{staticStyle:{color:"#E84343"}},[e._v("*")]),e._v(" 验证码  : ")]),e._v(" "),t("li",[t("span",{staticStyle:{color:"#E84343"}},[e._v("*")]),e._v(" 邮箱验证码  : ")])])])},function(){var e=this.$createElement,s=this._self._c||e;return s("div",{staticClass:"footer"},[s("div",[this._v("版权所有:淮北市经信局")]),this._v(" "),s("div",[this._v("网站备案号：皖ICP备10207486号 　网站标识码：3708000041")]),this._v(" "),s("div",{staticStyle:{"padding-bottom":"38px"}},[this._v("党政机关网站标识号：CA162410000604238070001        皖公网安备 37089702000262号")])])}]};var r=t("VU/8")(i,a,!1,function(e){t("bN2N")},"data-v-06dec34e",null);s.default=r.exports}});
//# sourceMappingURL=29.c2fdfdb87399263c35b6.js.map