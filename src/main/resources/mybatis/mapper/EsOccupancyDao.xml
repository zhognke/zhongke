<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.example.busniess.search.dao.EsOccupancyDao">

    <resultMap type="com.example.busniess.search.model.EsOccupancyModel" id="occupancyMap">
        <result property="id" column="id"/>
        <result property="userName" column="userName"/>
        <result property="resultTechnolo" column="resultTechnolo"/>
        <result property="stage" column="stage"/>
        <result property="advantages" column="advantages"/>
        <result property="industry" column="industry"/>
        <result property="industryDetail" column="industryDetail"/>
        <result property="attribute" column="attribute"/>
        <result property="patenNname" column="patenNname"/>
        <result property="patenNumber" column="patenNumber"/>
        <result property="price" column="price"/>
        <result property="registerNumber" column="registerNumber"/>
        <result property="describe" column="describe"/>
        <result property="appliedRange" column="appliedRange"/>
        <result property="transferType" column="transferType"/>
        <result property="linkMan" column="linkMan"/>
        <result property="phoneNumber" column="phoneNumber"/>
        <result property="city" column="city"/>
        <result property="district" column="district"/>
        <result property="stopTime" column="stopTime"/>
        <result property="createTime" column="creattime"/>
        <result property="updateTime" column="uptime"/>
        <result property="approvalTime" column="audittime"/>
        <result property="status" column="kstatue"/>
        <result property="approvalStatus" column="statue"/>
        <result property="priceBegin" column="priceBegin"/>
        <result property="priceEnd" column="priceEnd"/>
        <result property="keyWord" column="keyWord"/>
        <result property="closeReason" column="closeReason"/>
        <result property="companyName" column="companyName"/>
        <result property="negotiable" column="negotiable"/>
        <result property="title" column="resultTechnolo"/>
        <result property="outline" column="appliedRange"/>
        <result property="content" column="describe"/>
        <result property="industry" column="industry"/>
        <result property="industryDetail" column="industryDetail"/>
    </resultMap>

    <sql id="columnNames">
        id,username,companyName,resultTechnolo,stage,advantages,industry,industryDetail,attribute,patenNname,patenNumber,price,registerNumber,`describe`,appliedRange,transferType,linkman,phonenumber,province,city,district,stoptime,creattime,uptime,audittime,CASE when kstatue=1 then 0 else 1 end status,statue,close_reason,reject,hot,negotiable
    </sql>

    <select id="selectAll" resultMap="occupancyMap" parameterType="Integer">
        select <include refid="columnNames"></include> from occupancy
        <where>
            <if test="id!=null">
                `id`=#{id}
            </if>
        </where>
    </select>

</mapper>